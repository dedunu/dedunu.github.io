---
layout: post
title: How to copy a Database from a MongoDB instance to another?
date: '2012-12-16T23:28:00.000+02:00'
author: Dedunu Dhananjaya
tags:
- MongoDB
- MongoDB running two instances
- first instance
- MongoDB Shell
- administrative purposes
- software
- MongoDB copy databases
modified_time: '2019-07-09T17:39:18.386+03:00'
blogger_id: tag:blogger.com,1999:blog-8327060682734922468.post-6766447919469662562
blogger_orig_url: https://www.dedunu.info/2012/12/how-to-copy-database-from-mongodb.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Some times we need to take backups or we need to copy databases to another server for administrative purposes. But sometimes just copying files is not enough. In MongoDB Shell, they support to copy the database from remote instance to the current one with a single command. ( :D Just like Single Click in Windows )<br /><br />For this demo, I made alive two instances of MongoDB from the following commands.<br /><pre>//Instance 1<br />mongod --port 9990 --dbpath /data/db1<br />//Instance 2<br />mongod --port 9991 --dbpath /data/db2</pre><br />In instance 1 there is a database called "csampledb1". For that, I need to connect to the first instance to create that database.<br /><pre>mongo localhost:9990</pre><br /><a href="http://dedunu.info/2012/12/16/how-to-copy-a-database-from-a-mongodb-instance-to-another/mongoshellinstance1/#main" rel="attachment wp-att-870"><img alt="mongoshellinstance1" class="aligncenter size-full wp-image-870" src="https://dedunumax.files.wordpress.com/2012/12/mongoshellinstance1.jpg" height="126" width="353"></a><br /><br />After that with the following commands, I create a database with one collection.<br /><pre>use&nbsp;csampledb1<br />db.csamplecol1.save({id:1, name:"sample name"})</pre><br />Then I log in to next MongoDB instance using MongoDB Shell.<br /><pre>mongo localhost:9991</pre><br />Then I use a single command to copy the database from instance 1 to instance 2.<br /><pre>db.copyDatabase("csampledb1","csampledb2","localhost:9990")</pre><br /><a href="http://dedunu.info/2012/12/16/how-to-copy-a-database-from-a-mongodb-instance-to-another/mongoshellinstance2/#main" rel="attachment wp-att-871"><img alt="mongoshellinstance2" class="aligncenter size-full wp-image-871" src="https://dedunumax.files.wordpress.com/2012/12/mongoshellinstance2.jpg" height="109" width="544"></a><br /><br />Syntax of this function is like below. There are two arguments which I didn't use.<br /><pre>db.copyDatabase(fromdb, todb, fromhost, username, password)</pre></div>