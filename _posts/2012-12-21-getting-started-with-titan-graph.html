---
layout: post
title: Getting Started with Titan Graph Database
date: '2012-12-21T19:14:00.001+02:00'
author: Dedunu Dhananjaya
tags:
- Titan DB
- Titan with Gremlin
- Tinker Pop
- Graph DB
- How to begin titan db
- Graph database
- Gremlin
- Titan
modified_time: '2019-07-09T17:44:37.082+03:00'
thumbnail: https://4.bp.blogspot.com/-4-rUSq8-M3Y/UNSgFo-TAVI/AAAAAAAAAiQ/qbclVtX7kiM/s72-c/graph.png
blogger_id: tag:blogger.com,1999:blog-8327060682734922468.post-8498240578981105917
blogger_orig_url: https://www.dedunu.info/2012/12/getting-started-with-titan-graph.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">I have used Neo4J as my first graph database. And it had web console which makes easier to handle. But this time I'm not going to tell you how to get started with Neo4J. This time we are going to work with Titan which is an open source project which is held by <a href="http://thinkaurelius.github.com/titan/" target="_blank">Aurelius</a>.<br /><br />This database is more scalable graph database. Let's get to know how to get started with Titan Graph Database.<br /><br />First download Titan from Titan Site<br /><a href="http://thinkaurelius.github.com/titan/" target="_blank">Click Here to download Titan Graph Database</a><br /><br />Then extract titan to a disk. In this example, I take D drive. If you are Linux user extract this Titan file to somewhere you can execute.<br /><br />Then take a shell in Linux or command prompt in Windows. Then move to the titan folder. Then move to the bin.<br /><br />Before taking Gremlin Console you need to install Java. <br /><br />After that, if you are Linux guy run this command.<br /><blockquote class="tr_bq">&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">bash gremlin.sh</span></blockquote>Or if you are windows user, your command is,<br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">&nbsp;gremlin.bat</span></blockquote><br />Now you have the gremlin shell. Now we are going to connect to the graph database. Basically, we can use it with its three main storage backends. They are<br /><ul><li>Cassandra</li><li>HBase</li><li>Oracle Berkley&nbsp; </li></ul>But I'm not going to use any of them now. Now I'm just going to use Titans Native Storage.<br /><blockquote class="tr_bq">&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">g = TitanFactory.open('local/tmp');</span></blockquote>&nbsp;Below command will initiate a graph and assign it to g variable. Now in your bin, you can see local and temp folders are created.<br /><br />If you hope to search through your graph in Titan you have to index it first. Otherwise, you can't search for it. Let say we are going to search with "name" property. Then we have to add "name" index first.<br /><br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">g.createKeyIndex('name', Vertex.class);</span></blockquote><br />Now you are ready to add nodes and edges. And you have an index on "name" property.<br /><br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v = g.addVertex(null);</span></blockquote>This will create a new node on the graph. we are going to set properties to this node.<br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v.setProperty('name','dedunu');</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v.setProperty('type','person');</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v.setProperty('age',20);</span></blockquote><blockquote class="tr_bq">&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v1 = g.addVertex(null);</span> </blockquote><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v1.setProperty('name','malinda');</span></blockquote><br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v1.setProperty('type','person');</span></blockquote><br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v1.setProperty('age',22);</span></blockquote><blockquote class="tr_bq">&nbsp;<span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v2 = g.addVertex(null);</span></blockquote><br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v2.setProperty('name','UCSC');</span></blockquote><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v2.setProperty('type','institute');</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span></blockquote><span style="font-family: inherit;">Now we have three nodes. Two of them are Persons and the other one is an institute.&nbsp;</span> Now we are going to create relationships between those three nodes.<br /><br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">e1 = g.addEdge(null, v, v2, 'study in');</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">e2 = g.addEdge(null, v1, v2, 'study in');</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">e3 = g.addEdge(null, v, v1, 'knows');</span><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">e4 = g.addEdge(null, v1, v, 'knows');</span></blockquote><br />Now you have a graph like this.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-4-rUSq8-M3Y/UNSgFo-TAVI/AAAAAAAAAiQ/qbclVtX7kiM/s1600/graph.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="https://4.bp.blogspot.com/-4-rUSq8-M3Y/UNSgFo-TAVI/AAAAAAAAAiQ/qbclVtX7kiM/s1600/graph.png" /></a></div><br />&nbsp;Now we are going to have a journey around our beautiful data!!! And now I want to know where Malinda "study in". For that, I have to load Malinda to a vertex variable. I'll use an existing one.<br /><blockquote class="tr_bq"><br /><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v1.out('study in').map();</span></blockquote><br />Now I want who studies at UCSC.&nbsp; For that, I have to load UCSC to a variable first. I'll use an existing one.<br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;"><br /></span><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v2.in('study in').map();</span></blockquote><br />If I only need names of them then below one is the command. <br /><br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">v2.in('study in').name;</span></blockquote>Finally to commit all those things to disk you have to shut down the graph for that run below command.<br /><br /><blockquote class="tr_bq"><span style="font-family: &quot;courier new&quot; , &quot;courier&quot; , monospace;">g.shutdown();</span></blockquote><br />Be careful those commands are case sensitive!!! Enjoy Graphs!!! <br /><br /></div>